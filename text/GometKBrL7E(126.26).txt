Let see how we can break the align process into subproblem